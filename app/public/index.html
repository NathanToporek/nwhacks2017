<html>
    <style>
        #google-map {
        width: 100%;
        height: 400px;
        background-color: grey;
      }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/css/materialize.min.css">
    <body>
        <script src="https://code.jquery.com/jquery-3.2.0.min.js" integrity="sha256-JAW99MJVpJBGcbzEuXk4Az05s/XyDdBomFqNlM3ic+I=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.2.4/vue.min.js"></script>
    <script src="javascripts/MojioClientLite.js"></script>
    <script>
       var config = {
        application: '9d917e4c-7713-4993-b1d3-78c3b9188a5e' // your application ID
        };
        mojio_client = new MojioClientLite(config);

        if(mojio_client.token())
        {
        }else{
            mojio_client.authorize();
        }
    </script>
    <script>
        var vue = new Vue({
        el: '#data-trips',
        data:{
            trips:[],
        },

        mounted: function()
        {
            this.fetchTrips();
        },

        methods: {
            fetchTrips: function()
            {
            var self = this;
            $.getJSON("data.json", function(json)
                {
                    self.trips = json.Data;
                    var startLocation = {lat: self.trips[0].StartLocation.Lat, lng: self.trips[0].StartLocation.Lng};
                    var endLocation = {lat: self.trips[0].EndLocation.Lat, lng: self.trips[0].EndLocation.Lng};
                    var map = new google.maps.Map(document.getElementById('google-map'), {
                        zoom: 12,
                        center: startLocation
                    });
                    var markerStart = new google.maps.Marker({
                        position: startLocation,
                        map: map
                    });
                    var markerEnd = new google.maps.Marker({
                        position: endLocation,
                        map: map
                    });
                });
            },
        },
        });
       /*
       mojio_client.getPath('/v2/trips').then(function(result){
            console.log(result);
        });
        */
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBe2hRDV95UFwIxNT_5IISZHGRU9p0nP7I">
    </script>
    <div>
        <h2>Ride Sharing</h2>
        <div id="google-map"></div>
        <div id="data-trips">
            <table>
                <thead>
                    <th>Lat</th>
                    <th>Lng</th>
                </thead>
                <tbody>
                    <tr v-for="trip in trips">
                        <td>
                            {{trip.StartLocation.Lat}}
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    </body>
</html>